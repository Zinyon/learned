## Serverless(FaaS)

특정 작업을 수행하기 위해 서버를 설정하여 처리하는 것이 아닌 **BaaS(Backend as a Service)** 혹은 **FaaS(Function as a Service)**에 의존하여 작업을 처리하는 것.

* Baas: Firebase, Kinvey
* Faas: **AWS Lambda**, Azure Functions, Google Cloud Functions

### 배경

인프라 관리에 대한 방식은 점점 편리해져왔다. 모든 인프라를 직접 관리하는 **전산실**의 방식에서 인프라를 가상화하여 관리를 쉽게 해주는 **IaaS**, 여기서 더 추상화된 **PaaS** 등이 등장했다.

* **IaaS(Infrastructure as a Service)** : AWS, Azure 등의 서비스. 서버자원, 네트워크, 전력을 구축할 필요 없이 인프라를 관리할 수 있는 서비스. 사용자는 가상머신을 만들고, 네트워크, 운영체제, 하드웨어를 설치해서 애플리케이션을 구동할 수 있다.
* **PaaS(Platform as a Service)** : Iaas에서 더 추상화된 서비스. AWS Elastic Beanstalk, Azure App Services 등이 해당한다. 네트워크, 런타임까지 제공이 되며 사용자는 애플리케이션 배포만 하면 된다.

Serverless는 여기서 더 나아가 '서버의 존재'에 대해 신경쓰지 않아도 되는 서비스이다. 서버의 갯수, 서버의 사양, 네트워크에 대해 고려하지 않아도 된다.



### FaaS

프로젝트를 여러개의 함수로 쪼개서, 거대하고 분산된 컴퓨팅 자원에 함수를 등록하고 함수들이 실행되는 횟수만큼 비용을 내는 방식

다음 이벤트들을 통해 함수 실행이 가능하다

* 크롤링 작업, 주기적 처리
* 백엔드 API 구축
* 콘솔을 통한 호출

애플리케이션이 24시간 돌아가고 있는 **PaaS**와 달리 특정 이벤트가 발생했을 때 실행하며 작업을 마치면 종료된다는 특징이 있다.



#### 장점

1. 24시간 켜놓는 것이 아니라 함수 호출 횟수에 따라 비용이 산정되므로 비용 절약이 가능하다.
2. 인프라 관리, 보안에 대해 신경쓰지 않아도 된다.
3. 다양한 트래픽에 대한 확장성이 뛰어나다. Auto Scalining을 사용할 필요 없이 횟수에 따라 확장된다.



#### 단점

1. 함수로 짜다 보니 자원에 제한이 있고(AWS에서는 최대 1500MB, 처리시간 300초) 웹소켓같이 계속 켜놔야 하는 서비스에는 사용하지 못한다.
2. FaaS 제공사에 의존할 수 밖에 없다.
3. 로컬 스토리지가 없다. stateless하다.



#### 사용 사례

* 백엔드 API
* 크롤러
* 파일 처리 - 파일 업로드, 화질 조정 
* 로그 분석 / 실시간 모니터링 
* 각종 자동화 작업들 (Netflix - 동영상 인코딩, 검증, 태깅 작업)



#### 참고 자료

* https://velopert.com/3543